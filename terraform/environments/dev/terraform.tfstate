{"version":4,"terraform_version":"1.9.1","serial":1,"lineage":"7ece35cb-c533-e732-fa82-4a84edd13592","outputs":{"github_access_role_arn":{"value":"arn:aws:iam::490004630616:role/bhattdev-github-actions-role-dev","type":"string"},"tf_state_bucket_arn":{"value":"arn:aws:s3:::bhattdev-tofu-remote-state-dev","type":"string"}},"resources":[{"mode":"data","type":"aws_caller_identity","name":"current","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"account_id":"490004630616","arn":"arn:aws:iam::490004630616:user/Admin_User_Anurag","id":"490004630616","user_id":"AIDAXEFUNJRMKQVWG5A55"},"sensitive_attributes":[]}]},{"mode":"data","type":"aws_iam_policy_document","name":"bhattdev_tf_state_bucket_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"4261951907","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:PutEncryptionConfiguration\",\n        \"s3:PutBucketVersioning\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\",\n        \"s3:GetEncryptionConfiguration\",\n        \"s3:GetBucketVersioning\",\n        \"s3:DeleteObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::bhattdev-tofu-remote-state-dev/*\",\n        \"arn:aws:s3:::bhattdev-tofu-remote-state-dev\"\n      ]\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"s3:PutObject\",\"s3:PutEncryptionConfiguration\",\"s3:PutBucketVersioning\",\"s3:ListBucket\",\"s3:GetObject\",\"s3:GetEncryptionConfiguration\",\"s3:GetBucketVersioning\",\"s3:DeleteObject\"],\"Resource\":[\"arn:aws:s3:::bhattdev-tofu-remote-state-dev/*\",\"arn:aws:s3:::bhattdev-tofu-remote-state-dev\"]}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:DeleteObject","s3:GetBucketVersioning","s3:GetEncryptionConfiguration","s3:GetObject","s3:ListBucket","s3:PutBucketVersioning","s3:PutEncryptionConfiguration","s3:PutObject"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:s3:::bhattdev-tofu-remote-state-dev","arn:aws:s3:::bhattdev-tofu-remote-state-dev/*"],"sid":""}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"mode":"data","type":"aws_region","name":"current","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"description":"Asia Pacific (Mumbai)","endpoint":"ec2.ap-south-1.amazonaws.com","id":"ap-south-1","name":"ap-south-1"},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_iam_policy","name":"bhattdev_tf_state_bucket_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::490004630616:policy/bhattdev-tf-state-bucket-policy-dev","attachment_count":0,"description":"","id":"arn:aws:iam::490004630616:policy/bhattdev-tf-state-bucket-policy-dev","name":"bhattdev-tf-state-bucket-policy-dev","name_prefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":[\"s3:PutObject\",\"s3:PutEncryptionConfiguration\",\"s3:PutBucketVersioning\",\"s3:ListBucket\",\"s3:GetObject\",\"s3:GetEncryptionConfiguration\",\"s3:GetBucketVersioning\",\"s3:DeleteObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::bhattdev-tofu-remote-state-dev/*\",\"arn:aws:s3:::bhattdev-tofu-remote-state-dev\"]}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAXEFUNJRMLDCVI5JAK","tags":null,"tags_all":{"Environment":"dev","Module":"environments","Owner":"Anurag Bhatt","Project":"bhattdev","Terraform":"true"}},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.bhattdev_tf_state_bucket","data.aws_iam_policy_document.bhattdev_tf_state_bucket_policy"]}]},{"mode":"managed","type":"aws_iam_role","name":"bhattdev_github_actions_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::490004630616:role/bhattdev-github-actions-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"ForAllValues:StringLike\":{\"token.actions.githubusercontent.com:aud\":\"sts.amazonaws.com\",\"token.actions.githubusercontent.com:sub\":\"repo:Bhatt-Dev/*:*\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::490004630616:oidc-provider/token.actions.githubusercontent.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-05-30T21:54:38Z","description":"","force_detach_policies":false,"id":"bhattdev-github-actions-role-dev","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"bhattdev-github-actions-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":null,"tags_all":{"Environment":"dev","Module":"environments","Owner":"Anurag Bhatt","Project":"bhattdev","Terraform":"true"},"unique_id":"AROAXEFUNJRMCHPDMJWEQ"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role","name":"bhattdev_tf_state_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::490004630616:role/bhattdev-tf-state-role-dev","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::490004630616:root\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-05-30T21:54:38Z","description":"","force_detach_policies":false,"id":"bhattdev-tf-state-role-dev","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"bhattdev-tf-state-role-dev","name_prefix":"","path":"/","permissions_boundary":"","tags":null,"tags_all":{"Environment":"dev","Module":"environments","Owner":"Anurag Bhatt","Project":"bhattdev","Terraform":"true"},"unique_id":"AROAXEFUNJRMNOFNDRWLW"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach_s3_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"bhattdev-tf-state-role-dev-20250530215441115500000002","policy_arn":"arn:aws:iam::490004630616:policy/bhattdev-tf-state-bucket-policy-dev","role":"bhattdev-tf-state-role-dev"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_policy.bhattdev_tf_state_bucket_policy","aws_iam_role.bhattdev_tf_state_role","aws_s3_bucket.bhattdev_tf_state_bucket","data.aws_iam_policy_document.bhattdev_tf_state_bucket_policy"]}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"bhattdev_github_actions_policy_attachment","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"bhattdev-github-actions-role-dev-20250530215439756800000001","policy_arn":"arn:aws:iam::aws:policy/AdministratorAccess","role":"bhattdev-github-actions-role-dev"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.bhattdev_github_actions_role"]}]},{"mode":"managed","type":"aws_s3_bucket","name":"bhattdev_tf_state_bucket","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::bhattdev-tofu-remote-state-dev","bucket":"bhattdev-tofu-remote-state-dev","bucket_domain_name":"bhattdev-tofu-remote-state-dev.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"bhattdev-tofu-remote-state-dev.s3.ap-south-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"742ecb172f41bd9395561bb2b117c8d2746e17bb93286f2e77c756907256f44e","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z11RGJOFQNVJUP","id":"bhattdev-tofu-remote-state-dev","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"ap-south-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":null,"tags_all":{"Environment":"dev","Module":"environments","Owner":"Anurag Bhatt","Project":"bhattdev","Terraform":"true"},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"bhattdev_tf_state_bucket_encryption","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"bucket":"bhattdev-tofu-remote-state-dev","expected_bucket_owner":"","id":"bhattdev-tofu-remote-state-dev","rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":null}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.bhattdev_tf_state_bucket"]}]},{"mode":"managed","type":"aws_s3_bucket_versioning","name":"bhattdev_tf_state_bucket_versioning","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"bucket":"bhattdev-tofu-remote-state-dev","expected_bucket_owner":"","id":"bhattdev-tofu-remote-state-dev","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.bhattdev_tf_state_bucket"]}]}],"check_results":null}
